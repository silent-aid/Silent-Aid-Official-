<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Silent Aid | Order Tracking</title>
<style>
body{font-family:'Poppins',sans-serif;background:#f9f9f9;padding:20px;}
.container{max-width:900px;margin:auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 5px 25px rgba(0,0,0,0.1);}
h2{text-align:center;margin-bottom:20px;}
.order{border:1px solid #ddd;border-radius:10px;padding:15px;margin-bottom:20px;background:#fefefe;}
.order p{margin:4px 0;}
.tracker{display:flex;justify-content:space-between;position:relative;margin-top:15px;}
.tracker::before{content:'';position:absolute;top:15px;left:0;right:0;height:4px;background:#ddd;z-index:0;}
.step{position:relative;z-index:1;text-align:center;width:14%;}
.step .circle{width:30px;height:30px;background:#ddd;border-radius:50%;margin:auto;line-height:30px;color:white;font-weight:bold;}
.step.active .circle{background:#28a745;}
.step.completed .circle{background:#28a745;}
.step p{margin-top:8px;font-size:12px;}
</style>
</head>
<body>
<div class="container">
<h2>Order Tracking</h2>
<div id="ordersContainer"></div>
</div>

<script>
const ordersContainer = document.getElementById('ordersContainer');
const stages = ["Design Selected","Payment Done","Dispatched","Shipping","Out for Delivery","Delivered"];

// Get orders from localStorage
const orders = JSON.parse(localStorage.getItem('silentAidOrders')) || [];

orders.forEach(order => {
    // Create order div
    const div = document.createElement('div');
    div.className = 'order';
    
    div.innerHTML = `
        <p><strong>Customer:</strong> ${order.customer}</p>
        <p><strong>Product:</strong> ${order.product}</p>
        <p><strong>Payment:</strong> ${order.payment}</p>
        <p><strong>Current Stage:</strong> ${order.stage}</p>
        <div class="tracker">
            ${stages.map(stage=>{
                let classes = '';
                if(stages.indexOf(stage) < stages.indexOf(order.stage)) classes='completed';
                if(stage === order.stage) classes+=' active';
                return `<div class="step ${classes.trim()}"><div class="circle">${stages.indexOf(stage)+1}</div><p>${stage}</p></div>`;
            }).join('')}
        </div>
    `;
    ordersContainer.appendChild(div);
});
</script>
</body>
</html>
