<!DOCTYPE html>
<html>
<head>
  <title>Track Order</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style="background:#000;color:#fff;font-family:Arial;padding:20px">

<h1 style="color:red">Track Your Order</h1>

<input id="input"><button onclick="track()">Track</button>

<div id="box" style="display:none">

<p id="name"></p>

<div class="step">Design Selected</div>
<div class="step">Order Confirmed</div>
<div class="step">Shipping</div>
<div class="step">Dispatched</div>
<div class="step">Out for Delivery</div>
<div class="step">Delivered</div>

</div>

<style>
.step{margin:10px 0;color:#555}
.done{color:#00ff66;font-weight:bold}
</style>

<script>
function track(){
  let id = input.value;
  let data = localStorage.getItem("order_"+id);

  if(!data){ alert("Not found"); return; }

  let order = JSON.parse(data);

  console.log(order.status, typeof order.status); // DEBUG

  box.style.display="block";
  name.innerText = "Customer: "+order.customer;

  let steps = document.querySelectorAll(".step");
  steps.forEach(s=>s.classList.remove("done"));

  for(let i=0; i<=order.status; i++){
    steps[i].classList.add("done");
  }
}

// auto load from link
let p = new URLSearchParams(location.search);
if(p.get("id")){
  input.value = p.get("id");
  track();
}
</script>

</body>
</html>
